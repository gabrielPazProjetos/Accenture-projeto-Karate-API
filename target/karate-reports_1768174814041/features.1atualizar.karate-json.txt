{"failedCount":1,"prefixedPath":"classpath:features\/1atualizar.feature","packageQualifiedName":"features.1atualizar","loopIndex":-1,"relativePath":"features\/1atualizar.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":10445600,"errorMessage":"js failed:\n>>>>\n01: callSingle('classpath:features\/criarUsuario.feature')\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"callSingle\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:features\/1atualizar.feature:5","startTime":1768172647049,"endTime":1768172647059,"millis":10.4456,"status":"failed"},"step":{"comments":["# 1️\u20E3 Criar usuário e token via callSingle"],"line":5,"prefix":"*","index":0,"text":"def result = callSingle('classpath:features\/criarUsuario.feature')"},"stepLog":"20:04:07.049 << lock released, cached callSingle: classpath:features\/criarUsuario.feature\n20:04:07.049 Token gerado no config: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6InVzdWFyaW9fMDFjOTc0NjYtYjMxNi00YzU0LTgyNWUtOWNlZWM3MThmZjUwIiwicGFzc3dvcmQiOiJTZW5oYUAxMjMiLCJpYXQiOjE3NjgxNzI2NDZ9.zLKNblw3oE7Vxb03ombmJrGByDNOqjt7vyp2ILIgsnU UserId: null \n20:04:07.065 classpath:features\/1atualizar.feature:5\n* def result = callSingle('classpath:features\/criarUsuario.feature')\njs failed:\n>>>>\n01: callSingle('classpath:features\/criarUsuario.feature')\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"callSingle\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:features\/1atualizar.feature:5\n","callResults":[{"prefixedPath":"classpath:features\/criarUsuario.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2026-01-11 08:04:07 PM","durationMillis":2989.2682,"callArg":{"userName":"usuario_01c97466-b316-4c54-825e-9ceec718ff50","password":"Senha@123"},"failedCount":0,"packageQualifiedName":"features.criarUsuario","relativePath":"features\/criarUsuario.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":4951600,"startTime":1768172644055,"endTime":1768172644060,"millis":4.9516,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def userName = karate.get('userName')"},"stepLog":"20:04:04.020 >> lock acquired, begin callSingle: classpath:features\/criarUsuario.feature\n"},{"result":{"nanos":1304900,"startTime":1768172644058,"endTime":1768172644059,"millis":1.3049,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"def password = karate.get('password')"}},{"result":{"nanos":999100,"startTime":1768172644058,"endTime":1768172644059,"millis":0.9991,"status":"passed"},"step":{"comments":["# Cria o usuário"],"line":8,"prefix":"Given","index":2,"text":"url 'https:\/\/bookstore.demoqa.com\/Account\/v1\/User'"}},{"result":{"nanos":34812000,"startTime":1768172644068,"endTime":1768172644103,"millis":34.812,"status":"passed"},"step":{"line":9,"prefix":"And","index":3,"text":"request { userName: '#(userName)', password: '#(password)' }"}},{"result":{"nanos":1692449200,"startTime":1768172644100,"endTime":1768172645792,"millis":1692.4492,"status":"passed"},"step":{"line":10,"prefix":"When","index":4,"text":"method POST"},"stepLog":"20:04:04.353 request:\n1 > POST https:\/\/bookstore.demoqa.com\/Account\/v1\/User\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 82\n1 > Host: bookstore.demoqa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\"userName\":\"usuario_01c97466-b316-4c54-825e-9ceec718ff50\",\"password\":\"Senha@123\"}\n\n20:04:05.781 response time in milliseconds: 1428\n1 < 201\n1 < Server: nginx\/1.17.10 (Ubuntu)\n1 < Date: Sun, 11 Jan 2026 23:04:05 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 118\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"76-x57w3xZ\/F8NRfouYf4Jf08lq+BQ\"\n{\"userID\":\"782847c1-24cc-469e-bbfe-8f2fc4ca34e5\",\"username\":\"usuario_01c97466-b316-4c54-825e-9ceec718ff50\",\"books\":[]}\n\n"},{"result":{"nanos":3325000,"startTime":1768172645781,"endTime":1768172645784,"millis":3.325,"status":"passed"},"step":{"line":11,"prefix":"Then","index":5,"text":"status 201"}},{"result":{"nanos":4894800,"startTime":1768172645797,"endTime":1768172645802,"millis":4.8948,"status":"passed"},"step":{"line":12,"prefix":"*","index":6,"text":"def createdUserId = response.userId"}},{"result":{"nanos":3828000,"startTime":1768172645797,"endTime":1768172645801,"millis":3.828,"status":"passed"},"step":{"line":13,"prefix":"*","index":7,"text":"print 'UserId retornado:', createdUserId"},"stepLog":"20:04:05.797 [print] UserId retornado: null \n"},{"result":{"nanos":479900,"startTime":1768172645797,"endTime":1768172645797,"millis":0.4799,"status":"passed"},"step":{"comments":["# Gera token"],"line":16,"prefix":"Given","index":8,"text":"url 'https:\/\/bookstore.demoqa.com\/Account\/v1\/GenerateToken'"}},{"result":{"nanos":602600,"startTime":1768172645797,"endTime":1768172645798,"millis":0.6026,"status":"passed"},"step":{"line":17,"prefix":"And","index":9,"text":"request { userName: '#(userName)', password: '#(password)' }"}},{"result":{"nanos":1239328700,"startTime":1768172645797,"endTime":1768172647036,"millis":1239.3287,"status":"passed"},"step":{"line":18,"prefix":"When","index":10,"text":"method POST"},"stepLog":"20:04:05.797 request:\n2 > POST https:\/\/bookstore.demoqa.com\/Account\/v1\/GenerateToken\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 82\n2 > Host: bookstore.demoqa.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.9)\n2 > Accept-Encoding: gzip,deflate\n{\"userName\":\"usuario_01c97466-b316-4c54-825e-9ceec718ff50\",\"password\":\"Senha@123\"}\n\n20:04:07.042 response time in milliseconds: 1245\n2 < 200\n2 < Server: nginx\/1.17.10 (Ubuntu)\n2 < Date: Sun, 11 Jan 2026 23:04:06 GMT\n2 < Content-Type: application\/json; charset=utf-8\n2 < Content-Length: 322\n2 < Connection: keep-alive\n2 < X-Powered-By: Express\n2 < ETag: W\/\"142-YDZBi0dUP23x8xmT1QfaaWOth60\"\n{\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6InVzdWFyaW9fMDFjOTc0NjYtYjMxNi00YzU0LTgyNWUtOWNlZWM3MThmZjUwIiwicGFzc3dvcmQiOiJTZW5oYUAxMjMiLCJpYXQiOjE3NjgxNzI2NDZ9.zLKNblw3oE7Vxb03ombmJrGByDNOqjt7vyp2ILIgsnU\",\"expires\":\"2026-01-18T23:04:06.002Z\",\"status\":\"Success\",\"result\":\"User authorized successfully.\"}\n\n"},{"result":{"nanos":12200,"startTime":1768172647042,"endTime":1768172647042,"millis":0.0122,"status":"passed"},"step":{"line":19,"prefix":"Then","index":11,"text":"status 200"}},{"result":{"nanos":930800,"startTime":1768172647042,"endTime":1768172647043,"millis":0.9308,"status":"passed"},"step":{"line":20,"prefix":"*","index":12,"text":"def authToken = response.token"}},{"result":{"nanos":907100,"startTime":1768172647049,"endTime":1768172647050,"millis":0.9071,"status":"passed"},"step":{"line":21,"prefix":"*","index":13,"text":"print 'Token gerado:', authToken"},"stepLog":"20:04:07.049 [print] Token gerado: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6InVzdWFyaW9fMDFjOTc0NjYtYjMxNi00YzU0LTgyNWUtOWNlZWM3MThmZjUwIiwicGFzc3dvcmQiOiJTZW5oYUAxMjMiLCJpYXQiOjE3NjgxNzI2NDZ9.zLKNblw3oE7Vxb03ombmJrGByDNOqjt7vyp2ILIgsnU \n"},{"result":{"nanos":442300,"startTime":1768172647049,"endTime":1768172647049,"millis":0.4423,"status":"passed"},"step":{"comments":["# Retorno para o config"],"line":24,"prefix":"*","index":14,"text":"def result = { authToken: authToken, userName: userName, userId: createdUserId }"}}],"executorName":"main","line":3,"name":"Criar usuário dinâmico e gerar token","description":"","durationMillis":2989.2682,"startTime":1768172644039,"failed":false,"refId":"[1:3]","endTime":1768172647049,"exampleIndex":-1}],"name":"Criar usuário e gerar token","passedCount":1}]},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"line":6,"prefix":"*","index":1,"text":"def userId = result.userId"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"line":7,"prefix":"*","index":2,"text":"def token = result.authToken"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"endLine":18,"comments":["# 2️\u20E3 Adicionar livro"],"line":10,"prefix":"*","docString":"{\n  \"userId\": \"#(userId)\",\n  \"collectionOfIsbns\": [\n    { \"isbn\": \"9781449325862\" }\n  ]\n}","index":3,"text":"def addBody ="}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"line":19,"prefix":"Given","index":4,"text":"url 'https:\/\/bookstore.demoqa.com\/BookStore\/v1\/Books'"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"line":20,"prefix":"And","index":5,"text":"header Authorization = 'Bearer ' + token"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"line":21,"prefix":"And","index":6,"text":"request addBody"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"When","index":7,"text":"method POST"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"line":23,"prefix":"Then","index":8,"text":"status 201 || status 400"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"line":24,"prefix":"*","index":9,"text":"print 'Livro inicial adicionado ou já existia'"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"comments":["# 3️\u20E3 Consultar usuário"],"line":27,"prefix":"Given","index":10,"text":"url 'https:\/\/bookstore.demoqa.com\/Account\/v1\/User\/' + userId"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"And","index":11,"text":"header Authorization = 'Bearer ' + token"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"line":29,"prefix":"When","index":12,"text":"method GET"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"line":30,"prefix":"Then","index":13,"text":"status 200"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"line":31,"prefix":"*","index":14,"text":"def oldIsbn = response.books[0].isbn"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"comments":["# 4️\u20E3 Atualizar ISBN"],"line":34,"prefix":"*","index":15,"text":"def newIsbn = '9781449331818'"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"endLine":41,"line":35,"prefix":"*","docString":"{\n  \"userId\": \"#(userId)\",\n  \"isbn\": \"#(newIsbn)\"\n}","index":16,"text":"def updateBody ="}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"Given","index":17,"text":"url 'https:\/\/bookstore.demoqa.com\/BookStore\/v1\/Books\/' + oldIsbn"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":18,"text":"header Authorization = 'Bearer ' + token"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"And","index":19,"text":"request updateBody"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"When","index":20,"text":"method PUT"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"Then","index":21,"text":"status 200"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"*","index":22,"text":"match response.books[*].isbn contains newIsbn"}},{"result":{"nanos":0,"startTime":1768172647065,"endTime":1768172647065,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"*","index":23,"text":"print 'ISBN atualizado com sucesso:', newIsbn"}}],"line":3,"description":"","durationMillis":10.4456,"failed":true,"error":"js failed:\n>>>>\n01: callSingle('classpath:features\/criarUsuario.feature')\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"callSingle\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:features\/1atualizar.feature:5","executorName":"main","name":"Substituir ISBN de um livro","startTime":1768172643797,"refId":"[1:3]","endTime":1768172647065,"exampleIndex":-1}],"callDepth":0,"name":"Atualizar livro do usuário","description":"","resultDate":"2026-01-11 08:04:07 PM","durationMillis":10.4456,"passedCount":0}