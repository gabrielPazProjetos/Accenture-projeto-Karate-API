{"failedCount":1,"prefixedPath":"classpath:features\/1atualização.feature","packageQualifiedName":"features.1atualização","loopIndex":-1,"relativePath":"features\/1atualização.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":19610300,"errorMessage":"js failed:\n>>>>\n01: callSingle read('classpath:features\/karateConfig.feature')\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:11 Expected ; but found read\r\ncallSingle read('classpath:features\/karateConfig.feature')\r\n           ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:428)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:169)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:165)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1252)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2204)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2123)\n- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1317)\n\nclasspath:features\/1atualização.feature:5","startTime":1768169338013,"endTime":1768169338033,"millis":19.6103,"status":"failed"},"step":{"comments":["# Pega token e usuário via callSingle"],"background":true,"line":5,"prefix":"*","index":0,"text":"def config = callSingle read('classpath:features\/karateConfig.feature')"},"stepLog":"19:08:58.004 << lock released, cached callSingle: classpath:features\/criarUsuario.feature\n19:08:58.004 Token gerado no config: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6InVzdWFyaW9fMTc2ODE2OTMzNDc5NSIsInBhc3N3b3JkIjoiU2VuaGFAMTIzIiwiaWF0IjoxNzY4MTY5MzM2fQ.rZIzWCKCSRLmZMUlobH07hInjxYcUeFafxfSzkq9ybU \n19:08:58.036 classpath:features\/1atualização.feature:5\n* def config = callSingle read('classpath:features\/karateConfig.feature')\njs failed:\n>>>>\n01: callSingle read('classpath:features\/karateConfig.feature')\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:11 Expected ; but found read\r\ncallSingle read('classpath:features\/karateConfig.feature')\r\n           ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:428)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:169)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:165)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1252)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2204)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2123)\n- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1317)\n\nclasspath:features\/1atualização.feature:5\n","callResults":[{"prefixedPath":"classpath:features\/criarUsuario.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2026-01-11 07:08:58 PM","durationMillis":3110.5078,"callArg":{"userName":"usuario_1768169334795","password":"Senha@123"},"failedCount":0,"packageQualifiedName":"features.criarUsuario","relativePath":"features\/criarUsuario.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":10514900,"startTime":1768169334893,"endTime":1768169334904,"millis":10.5149,"status":"passed"},"step":{"comments":["# Pega __arg se chamado via callSingle, senão cria local"],"line":5,"prefix":"*","index":0,"text":"def args = karate.get('__arg') || {}"},"stepLog":"19:08:54.856 >> lock acquired, begin callSingle: classpath:features\/criarUsuario.feature\n"},{"result":{"nanos":3751300,"startTime":1768169334905,"endTime":1768169334909,"millis":3.7513,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"def userName = args.userName || 'usuario_fixo_' + Math.floor(Math.random() * 10000)"}},{"result":{"nanos":897500,"startTime":1768169334905,"endTime":1768169334906,"millis":0.8975,"status":"passed"},"step":{"line":7,"prefix":"*","index":2,"text":"def password = args.password || 'Senha@123'"}},{"result":{"nanos":3100600,"startTime":1768169334905,"endTime":1768169334908,"millis":3.1006,"status":"passed"},"step":{"line":9,"prefix":"*","index":3,"text":"print 'Criando usuário:', userName"},"stepLog":"19:08:54.905 [print] Criando usuário: usuario_1768169334795 \n"},{"result":{"nanos":598800,"startTime":1768169334905,"endTime":1768169334906,"millis":0.5988,"status":"passed"},"step":{"comments":["# Cria o usuário (ignora se já existir)"],"line":12,"prefix":"Given","index":4,"text":"url 'https:\/\/bookstore.demoqa.com\/Account\/v1\/User'"}},{"result":{"nanos":32131400,"startTime":1768169334905,"endTime":1768169334937,"millis":32.1314,"status":"passed"},"step":{"line":13,"prefix":"And","index":5,"text":"request { userName: '#(userName)', password: '#(password)' }"}},{"result":{"nanos":1805942400,"startTime":1768169334949,"endTime":1768169336755,"millis":1805.9424,"status":"passed"},"step":{"line":14,"prefix":"When","index":6,"text":"method POST"},"stepLog":"19:08:55.236 request:\n1 > POST https:\/\/bookstore.demoqa.com\/Account\/v1\/User\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 59\n1 > Host: bookstore.demoqa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\"userName\":\"usuario_1768169334795\",\"password\":\"Senha@123\"}\n\n19:08:56.753 response time in milliseconds: 1501\n1 < 201\n1 < Server: nginx\/1.17.10 (Ubuntu)\n1 < Date: Sun, 11 Jan 2026 22:08:56 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 95\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"5f-jPLCmjxXkhG6hFS\/w4WSevBpY2w\"\n{\"userID\":\"67ea5296-d729-45df-a184-442fe7b9d82a\",\"username\":\"usuario_1768169334795\",\"books\":[]}\n\n"},{"result":{"nanos":3401200,"startTime":1768169336753,"endTime":1768169336756,"millis":3.4012,"status":"passed"},"step":{"line":15,"prefix":"Then","index":7,"text":"status 201 || status 400"}},{"result":{"nanos":1354400,"startTime":1768169336753,"endTime":1768169336754,"millis":1.3544,"status":"passed"},"step":{"line":16,"prefix":"*","index":8,"text":"print 'Usuário criado ou já existia'"},"stepLog":"19:08:56.753 [print] Usuário criado ou já existia \n"},{"result":{"nanos":484000,"startTime":1768169336753,"endTime":1768169336753,"millis":0.484,"status":"passed"},"step":{"comments":["# Gera token para o usuário criado"],"line":19,"prefix":"Given","index":9,"text":"url 'https:\/\/bookstore.demoqa.com\/Account\/v1\/GenerateToken'"}},{"result":{"nanos":527000,"startTime":1768169336761,"endTime":1768169336762,"millis":0.527,"status":"passed"},"step":{"line":20,"prefix":"And","index":10,"text":"request { userName: '#(userName)', password: '#(password)' }"}},{"result":{"nanos":1245185000,"startTime":1768169336761,"endTime":1768169338006,"millis":1245.185,"status":"passed"},"step":{"line":21,"prefix":"When","index":11,"text":"method POST"},"stepLog":"19:08:56.763 request:\n2 > POST https:\/\/bookstore.demoqa.com\/Account\/v1\/GenerateToken\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 59\n2 > Host: bookstore.demoqa.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.9)\n2 > Accept-Encoding: gzip,deflate\n{\"userName\":\"usuario_1768169334795\",\"password\":\"Senha@123\"}\n\n19:08:58.004 response time in milliseconds: 1241\n2 < 200\n2 < Server: nginx\/1.17.10 (Ubuntu)\n2 < Date: Sun, 11 Jan 2026 22:08:57 GMT\n2 < Content-Type: application\/json; charset=utf-8\n2 < Content-Length: 292\n2 < Connection: keep-alive\n2 < X-Powered-By: Express\n2 < ETag: W\/\"124-DTXZsgD2LWXnISQUERwKz3ZbQ3I\"\n{\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6InVzdWFyaW9fMTc2ODE2OTMzNDc5NSIsInBhc3N3b3JkIjoiU2VuaGFAMTIzIiwiaWF0IjoxNzY4MTY5MzM2fQ.rZIzWCKCSRLmZMUlobH07hInjxYcUeFafxfSzkq9ybU\",\"expires\":\"2026-01-18T22:08:56.954Z\",\"status\":\"Success\",\"result\":\"User authorized successfully.\"}\n\n"},{"result":{"nanos":17100,"startTime":1768169338004,"endTime":1768169338004,"millis":0.0171,"status":"passed"},"step":{"line":22,"prefix":"Then","index":12,"text":"status 200"}},{"result":{"nanos":1218900,"startTime":1768169338004,"endTime":1768169338005,"millis":1.2189,"status":"passed"},"step":{"line":23,"prefix":"*","index":13,"text":"def authToken = response.token"}},{"result":{"nanos":1042800,"startTime":1768169338004,"endTime":1768169338005,"millis":1.0428,"status":"passed"},"step":{"line":24,"prefix":"*","index":14,"text":"print 'Token gerado:', authToken"},"stepLog":"19:08:58.004 [print] Token gerado: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6InVzdWFyaW9fMTc2ODE2OTMzNDc5NSIsInBhc3N3b3JkIjoiU2VuaGFAMTIzIiwiaWF0IjoxNzY4MTY5MzM2fQ.rZIzWCKCSRLmZMUlobH07hInjxYcUeFafxfSzkq9ybU \n"},{"result":{"nanos":340500,"startTime":1768169338004,"endTime":1768169338004,"millis":0.3405,"status":"passed"},"step":{"comments":["# Retorna token para callSingle"],"line":27,"prefix":"*","index":15,"text":"def result = { authToken: authToken }"}}],"executorName":"main","line":3,"name":"Criar usuário dinâmico e gerar token","description":"","durationMillis":3110.5078,"startTime":1768169334883,"failed":false,"refId":"[1:3]","endTime":1768169338004,"exampleIndex":-1}],"name":"Criar usuário e gerar token","passedCount":1}]},{"result":{"nanos":0,"startTime":1768169338036,"endTime":1768169338036,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def authToken = config.token"}},{"result":{"nanos":0,"startTime":1768169338036,"endTime":1768169338036,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def userName = config.user.userName"}},{"result":{"nanos":0,"startTime":1768169338036,"endTime":1768169338036,"millis":0.0,"status":"skipped"},"step":{"comments":["# Primeiro, pegamos a lista de livros do usuário"],"line":11,"prefix":"Given","index":0,"text":"url 'https:\/\/bookstore.demoqa.com\/Account\/v1\/User\/' + userName"}},{"result":{"nanos":0,"startTime":1768169338036,"endTime":1768169338036,"millis":0.0,"status":"skipped"},"step":{"line":12,"prefix":"And","index":1,"text":"header Authorization = 'Bearer ' + authToken"}},{"result":{"nanos":0,"startTime":1768169338036,"endTime":1768169338036,"millis":0.0,"status":"skipped"},"step":{"line":13,"prefix":"When","index":2,"text":"method GET"}},{"result":{"nanos":0,"startTime":1768169338036,"endTime":1768169338036,"millis":0.0,"status":"skipped"},"step":{"line":14,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":0,"startTime":1768169338036,"endTime":1768169338036,"millis":0.0,"status":"skipped"},"step":{"comments":["# Pega o primeiro livro da lista"],"line":17,"prefix":"*","index":4,"text":"def firstBook = response.books[0]"}},{"result":{"nanos":0,"startTime":1768169338036,"endTime":1768169338036,"millis":0.0,"status":"skipped"},"step":{"line":18,"prefix":"*","index":5,"text":"def oldIsbn = firstBook.isbn"}},{"result":{"nanos":0,"startTime":1768169338036,"endTime":1768169338036,"millis":0.0,"status":"skipped"},"step":{"line":19,"prefix":"*","index":6,"text":"def newIsbn = oldIsbn + '9'  # adiciona um dígito ao final para novo ISBN"}},{"result":{"nanos":0,"startTime":1768169338036,"endTime":1768169338036,"millis":0.0,"status":"skipped"},"step":{"comments":["# Atualiza o ISBN"],"line":22,"prefix":"Given","index":7,"text":"url 'https:\/\/bookstore.demoqa.com\/BookStore\/v1\/Books\/' + oldIsbn"}},{"result":{"nanos":0,"startTime":1768169338036,"endTime":1768169338036,"millis":0.0,"status":"skipped"},"step":{"line":23,"prefix":"And","index":8,"text":"header Authorization = 'Bearer ' + authToken"}},{"result":{"nanos":0,"startTime":1768169338036,"endTime":1768169338036,"millis":0.0,"status":"skipped"},"step":{"line":24,"prefix":"And","index":9,"text":"request { userId: '#(userName)', isbn: '#(newIsbn)' }"}},{"result":{"nanos":0,"startTime":1768169338036,"endTime":1768169338036,"millis":0.0,"status":"skipped"},"step":{"line":25,"prefix":"When","index":10,"text":"method PUT"}},{"result":{"nanos":0,"startTime":1768169338036,"endTime":1768169338036,"millis":0.0,"status":"skipped"},"step":{"line":26,"prefix":"Then","index":11,"text":"status 200"}},{"result":{"nanos":0,"startTime":1768169338036,"endTime":1768169338036,"millis":0.0,"status":"skipped"},"step":{"line":27,"prefix":"And","index":12,"text":"match response.books[0].isbn == newIsbn"}},{"result":{"nanos":0,"startTime":1768169338036,"endTime":1768169338036,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"*","index":13,"text":"print 'ISBN atualizado com sucesso:', response.books[0].isbn"}}],"line":9,"description":"","durationMillis":19.6103,"failed":true,"error":"js failed:\n>>>>\n01: callSingle read('classpath:features\/karateConfig.feature')\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:11 Expected ; but found read\r\ncallSingle read('classpath:features\/karateConfig.feature')\r\n           ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:428)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:169)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:165)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1252)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2204)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2123)\n- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1317)\n\nclasspath:features\/1atualização.feature:5","executorName":"main","name":"Atualizar o ISBN do primeiro livro do usuário","startTime":1768169334683,"refId":"[1:9]","endTime":1768169338036,"exampleIndex":-1}],"callDepth":0,"name":"Atualizar ISBN de um livro dinamicamente","description":"","resultDate":"2026-01-11 07:08:58 PM","durationMillis":19.6103,"passedCount":0}